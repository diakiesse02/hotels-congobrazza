<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Résultats de recherche - Congo Brazza Hôtels</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f3f7fb;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #3498db;
      color: white;
      padding: 20px;
      text-align: center;
    }

    .container {
      max-width: 1100px;
      margin: 30px auto;
      padding: 0 20px;
    }

    h2 {
      text-align: center;
      margin-bottom: 30px;
    }

    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin-bottom: 25px;
    }

    .filters label {
      display: flex;
      align-items: center;
      font-size: 14px;
    }

    .filters input[type="checkbox"] {
      margin-right: 5px;
    }

    .results {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 20px;
    }

    .card {
      background-color: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-radius: 8px;
    }

    .card h3 {
      margin: 15px 0 10px;
    }

    .card p {
      margin: 5px 0;
    }

    .btn-whatsapp {
      display: inline-block;
      background-color: #25d366;
      color: white;
      padding: 10px 15px;
      border-radius: 5px;
      text-decoration: none;
      margin-top: 10px;
      font-size: 14px;
    }

    .no-results {
      text-align: center;
      font-size: 18px;
      color: #777;
      margin-top: 40px;
    }

    .back-btn {
      display: inline-block;
      margin: 30px auto 0;
      background-color: #2980b9;
      color: white;
      padding: 10px 20px;
      border-radius: 6px;
      text-decoration: none;
      text-align: center;
    }

    .date-group, .avis-form {
      margin-top: 10px;
    }

    .date-group input {
      padding: 6px;
      margin-right: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    .avis-form textarea,
    .avis-form input[type="text"],
    .avis-form select {
      width: 100%;
      padding: 6px;
      margin-top: 6px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    .avis-form button {
      margin-top: 8px;
      background-color: #3498db;
      color: white;
      padding: 8px 12px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .avis-form button:hover {
      background-color: #2980b9;
    }

  </style>
</head>
<body>

  <header>
    <h1>Résultats de votre recherche</h1>
  </header>

  <div class="container">
    <h2>Hôtels disponibles</h2>

    <div class="filters">
      <label><input type="checkbox" id="wifi"> Wi-Fi</label>
      <label><input type="checkbox" id="parking"> Parking</label>
      <label><input type="checkbox" id="climatisation"> Climatisation</label>
    </div>

    <div id="results" class="results"></div>
    <p id="no-results" class="no-results" style="display:none;">Aucun hôtel trouvé pour votre recherche.</p>
    <div style="text-align:center;">
      <a href="index.html" class="back-btn">← Retour à l'accueil</a>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const resultsDiv = document.getElementById("results");
      const noResults = document.getElementById("no-results");

      const hotels = [
        {
          ville: "Brazzaville",
          nom: "Hôtel Marina",
          prix: "35 000 FCFA",
          categorie: "Luxe",
          image: "chambre1.png",
          whatsapp: "242061234567",
          wifi: true,
          parking: true,
          clim: true
        },
        {
          ville: "Pointe-Noire",
          nom: "Émeraude Palace",
          prix: "45 000 FCFA",
          categorie: "Luxe",
          image: "chambre2.png",
          whatsapp: "242062345678",
          wifi: true,
          parking: false,
          clim: true
        },
        {
          ville: "Dolisie",
          nom: "Résidence Safari",
          prix: "25 000 FCFA",
          categorie: "Moins cher",
          image: "chambre3.png",
          whatsapp: "242063456789",
          wifi: false,
          parking: true,
          clim: false
        }
      ];

      const urlParams = new URLSearchParams(window.location.search);
      const ville = urlParams.get("ville")?.toLowerCase() || "";
      const categorie = urlParams.get("categorie")?.toLowerCase() || "";
      const prix = urlParams.get("prix")?.toLowerCase() || "";

      function filterHotels() {
        const wifiFilter = document.getElementById("wifi").checked;
        const parkingFilter = document.getElementById("parking").checked;
        const climFilter = document.getElementById("climatisation").checked;

        const filtrés = hotels.filter(hotel => {
          return (
            (!ville || hotel.ville.toLowerCase().includes(ville)) &&
            (!categorie || hotel.categorie.toLowerCase() === categorie) &&
            (!prix || hotel.prix.toLowerCase().includes(prix)) &&
            (!wifiFilter || hotel.wifi) &&
            (!parkingFilter || hotel.parking) &&
            (!climFilter || hotel.clim)
          );
        });

        resultsDiv.innerHTML = "";
        if (filtrés.length === 0) {
          noResults.style.display = "block";
        } else {
          noResults.style.display = "none";
          filtrés.forEach(hotel => {
            const card = document.createElement("div");
            card.className = "card";
            card.innerHTML = `
              <img src="${hotel.image}" alt="${hotel.nom}">
              <h3>${hotel.nom}</h3>
              <p><strong>Ville :</strong> ${hotel.ville}</p>
              <p><strong>Prix :</strong> ${hotel.prix}</p>
              <p><strong>Catégorie :</strong> ${hotel.categorie}</p>

              <div class="date-group">
                <label>Date d'arrivée :
                  <input type="date" name="checkin">
                </label><br>
                <label>Date de départ :
                  <input type="date" name="checkout">
                </label>
              </div>

              <a class="btn-whatsapp" target="_blank" href="https://wa.me/${hotel.whatsapp}?text=Bonjour%20je%20souhaite%20réserver%20une%20chambre%20à%20${encodeURIComponent(hotel.nom)}">Réserver via WhatsApp</a>

              <div class="avis-form">
                <h4>Laisser un avis</h4>
                <input type="text" placeholder="Votre nom" />
                <select>
                  <option value="5">⭐⭐⭐⭐⭐ (Excellent)</option>
                  <option value="4">⭐⭐⭐⭐ (Très bien)</option>
                  <option value="3">⭐⭐⭐ (Bien)</option>
                  <option value="2">⭐⭐ (Passable)</option>
                  <option value="1">⭐ (Mauvais)</option>
                </select>
                <textarea rows="3" placeholder="Votre commentaire..."></textarea>
                <button>Envoyer</button>
              </div>
            `;
            resultsDiv.appendChild(card);
          });
        }
      }

      filterHotels();
      document.getElementById("wifi").addEventListener("change", filterHotels);
      document.getElementById("parking").addEventListener("change", filterHotels);
      document.getElementById("climatisation").addEventListener("change", filterHotels);
    });
  </script>

</body>
</html>
